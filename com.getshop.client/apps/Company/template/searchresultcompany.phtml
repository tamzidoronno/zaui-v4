<?
/* @var $this ns_a6d68820_a8e3_4eac_b2b6_b05043c28d78\Company */
$this->loadData();
//print_r($companies);<
$companies = $this->filteredData->datas;
if(!$companies) {
    echo $this->__w("No Results!");
    $companies = array();
}
foreach($companies as $company) {
    $id = $company->id;
    echo "<div class='companyentry' gss_fragment='company' gss_view='gs_company_workarea' gss_value='$id'>";
    echo "<table width='100%'>";
    echo "<tr>";
    echo "<td width='25%'>";
    echo "<i class='fa fa-building-o' style='font-size:30px; float:left; margin-right: 10px; '></i>";
    echo "<b>" . $company->name . "</b><br>vat number: " . $company->vatNumber;
    echo "</td>";
    echo "<td valign='top' width='25%'>";
    echo $company->address->address . "<br>";
    echo $company->address->postCode . " " . $company->address->city . "<br>";
    echo "</td>";
    echo "<td valign='top' width='25%'>";
    if($company->invoiceAddress && $company->invoiceAddress->address) {
        echo $company->invoiceAddress->address . "<br>";
        echo $company->invoiceAddress->postCode . " " . $company->invoiceAddress->city . "<br>";
    } else {
        echo "No invoice address set";
    }
    echo "</td>";
    echo "<td valign='top' width='25%'>";
    echo $company->email . " " . $company->invoiceEmail. "<br>";
    echo $company->phone . " " . $company->contactPerson . "<br>";
    echo "</td>";
    echo "</tr>";
    echo "</table>";
    echo "</div>";
}
?>
<div class="gss_pagenumber_bottom">
    <? echo $this->__f("Page") . ": " . $this->getPageNumber() . "/" . $this->getTotalPageCount(); ?>
    
    <div style='margin-top: 10px; text-align: center;'>
        <? echo $this->__f("Pagesize"); ?>
        <span gss_method='setPageSize' gss_value='3' style='cursor: pointer;'>3</span>,
        <span gss_method='setPageSize' gss_value='10' style='cursor: pointer;'>10</span>,
        <span gss_method='setPageSize' gss_value='20' style='cursor: pointer;'>20</span>,
        <span gss_method='setPageSize' gss_value='30' style='cursor: pointer;'>30</span>,
        <span gss_method='setPageSize' gss_value='50' style='cursor: pointer;'>50</span>,
        <span gss_method='setPageSize' gss_value='100' style='cursor: pointer;'>100</span>,
        <span gss_method='setPageSize' gss_value='200' style='cursor: pointer;'>200</span>,
        <span gss_method='setPageSize' gss_value='300' style='cursor: pointer;'>300</span>,
        <span gss_method='setPageSize' gss_value='500' style='cursor: pointer;'>500</span>
    </div>
</div>
<div class="gss_order_nextprevbuttons">
    <? if ($this->hasPrevPage()) { ?>
        <div class='gss_button order_gss_prev_buttons' gss_method="prevOrderPage"><i class='fa fa-arrow-left'></i> <? echo $this->__f("Previouse page"); ?></div>
    <? } ?>

    <? if ($this->hasNextPage()) { ?>
        <div class='gss_button order_gss_next_buttons' gss_method="nextOrderPage"><i class='fa fa-arrow-right'></i> <? echo $this->__f("Next page"); ?></div>
    <? } ?>
</div>