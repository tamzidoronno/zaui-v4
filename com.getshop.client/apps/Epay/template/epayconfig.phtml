<?
/* @var $this ns_d02f8b7a_7395_455d_b754_888d7d701db8\Dibs */

$dibs = $this->getConfigurationSetting("merchantid");
$md5secret = $this->getConfigurationSetting("md5secret");
$apipassword = $this->getConfigurationSetting("apipassword");
?>

<div class='gss_settings_header'>
    <i class='fa fa-cc-visa'></i>

    <div class='gss_settings_header_description'>
        <div class='gss_settings_header_title'>
            <?php echo $this->getName(); ?>
        </div>
        <div class='gss_settings_header_description_inner'>
            <?php echo $this->getDescription(); ?>
        </div>
    </div>	
</div>

<div class='gss_settings_content'>

    <div class="gss_simple_shipping">
        <div class="textfield gss_setting"  id="merchantid">
            <span class="title"><?php echo $this->__f("Merchant Id"); ?></span>
            <input type="textfield" gs_model='epaymodel' gs_model_attr='merchantid' value="<? echo $dibs; ?>">
            <div class="description">
                <?php  echo $this->__f("The Merchant-ID is provided by Epay, please contact us for more information."); ?>
            </div>
        </div>
        <div class="textfield gss_setting"  id="md5secret">
            <span class="title"><?php echo $this->__f("MD5 Secret key"); ?></span>
            <input type="textfield" gs_model='epaymodel' gs_model_attr='md5secret' value="<? echo $md5secret; ?>">
            <div class="description">
                <?php  echo $this->__f("The secret key to validate callbacks for, created in the epay admin panel."); ?>
            </div>
        </div>
        <div class="textfield gss_setting"  id="apipassword">
            <span class="title"><?php echo $this->__f("Api password"); ?></span>
            <input type="textfield" gs_model='epaymodel' gs_model_attr='apipassword' value="<? echo $apipassword; ?>">
            <div class="description">
                <?php  echo $this->__f("A password used when communicating with the api for subscriptions / saved cards"); ?>
            </div>
        </div>
        
        <div class="textfield gss_setting"  id="savecard">
               <span class="title"><?php echo $this->__f("Save card"); ?></span>
               <div class="gss_onoff" gs_model="epaymodel" gs_model_attr="savecard">
                   <?
                   $class = $this->getConfigurationSetting("savecard") == "true" ? "fa-toggle-on" : "fa-toggle-off";
                   ?>
                   <? echo $this->__f("Off"); ?><i class="fa <? echo $class; ?>"></i><? echo $this->__f("On"); ?>
               </div>
               <div class="description">
                   <?php echo $this->__w("Save the cards instead of extracting the amount?"); ?>
               </div>
        </div>
        
        <div class="textfield gss_setting"  id="testmode">
               <span class="title"><?php echo $this->__f("Test mode"); ?></span>
               <div class="gss_onoff" gs_model="epaymodel" gs_model_attr="testmode">
                   <?
                   $class = $this->getConfigurationSetting("testmode") == "true" ? "fa-toggle-on" : "fa-toggle-off";
                   ?>
                   <? echo $this->__f("Off"); ?><i class="fa <? echo $class; ?>"></i><? echo $this->__f("On"); ?>
               </div>
               <div class="description">
                   <?php echo $this->__w("Run dibs in test mode?"); ?>
               </div>
        </div>
    </div>

    <div class='gss_button_area'>
        <div class="gss_button" gss_method="saveSettings" gss_model="epaymodel" gss_success_message="Saved successfully"><i class='fa fa-save'></i><?php echo $this->__("Save"); ?></div>
    </div>
</div>