<?
/* Â @var $this ns_a11ac190_4f9a_11e3_8f96_0800200c9a66\Menu */
/**
 * Template file for MenuEditor, this file holds the responsibility to 
 * show all configurator.
 * 
 */
/** @var core_listmanager_data_EntryList[] */
?>
<div class="MenuEditor app" appId="<? echo $this->getConfiguration()->id; ?>"> <!-- <- this can be removed -->
    <div class="menueditorcontainer">
        <table width="100%">
            <tr>
                <td width="200" valign="top">
                    <div class="info">
                        <div class="title">Information</div>
                        <ul>
                            <li><? echo $this->__f("Create new pages by dragging \"New Page\" to where you want the new page to be in the menu."); ?><br><br></li>
                            <li><? echo $this->__f("Delete pages by dragging the menu entry to the garbage box."); ?><br><br></li>
                            <li><? echo $this->__f("To move pages, move them from the menu to the loose page area, then drag the loose page into another menu."); ?></li>
                            <li><? echo $this->__f("Drag a entry to HOME and it will become your landingpage."); ?></li>
                        </ul>
                        <?
                        echo $this->__f("");
                        ?>
                    </div>
                </td>
                <td valign="top">
                    <div style='border:solid 1px #ddd; margin: 10px;' id="menueditorjstree">
                        <ul>
                            <?
                            $this->printed = array();
                            echo "<li id='editorroot'>Your menu";
                            /* @var $list core_listmanager_data_EntryList */
                            $this->printList($this->getMenuEntries());
                            echo '</li>';
                            ?>
                        </ul>
                    </div>
                </td>
                <td valign='top' width='200'>
                    <div class="menuitemedit" style='margin-top: 10px;'>
                        <div class="title"><? echo $this->__f("Item details"); ?></div>
                        <div class="iteminformation">
                            <? echo $this->__f("Please select an item, this box will show you all the juice stuff that you can do to the selected item."); ?>
                        </div>
                        <div class="titleinformation">
                            <table>
                                    <tr><td><? echo $this->__f("Name"); ?></td><td><input type="textfield" id="itemname" disabled/></td></tr>
                                <tr><td><? echo $this->__f("Link"); ?></td><td><input type="textfield" class="pagepicker" id="itemlink"/></td></tr>
                                <tr><td><? echo $this->__f("Fontawesome icon name"); ?></td><td><input type="text" id="icontext"/></td></tr>
                                <tr><td><? echo $this->__f("Userlevel"); ?></td>
                                    <td>
                                        <select id="userlevel">
                                            <option value="0"><? echo $this->__("Public"); ?></option>
                                            <option value="10"><? echo $this->__("Customers"); ?></option>
                                            <option value="50"><? echo $this->__("Editor"); ?></option>
                                            <option value="90"><? echo $this->__("Administrator"); ?></option>
                                        </select>

                                    </td>
                                </tr>
                                <?
                                $langCodes = $this->getFactory()->getLanguageCodes();
                                $mainLanguage = $this->getFactory()->getMainLanguage();

                                if ($langCodes) {
                                    ?>
                                    <tr>
                                        <td valign="top"><br/><? echo $this->__f("Languages"); ?></td>
                                        <td>
                                            <?
                                            echo "<br/><input class='menu_item_language' style='width: 30px;' type='checkbox' value='$mainLanguage'/> $mainLanguage";
                                            foreach ($langCodes as $langCode) {
                                                echo "<br/><input class='menu_item_language' style='width: 30px;' type='checkbox' value='$langCode'/> $langCode";
                                            }
                                            ?>
                                        </td>
                                    </tr>
                                    <?
                                }
                                ?>
                            </table>
                        </div>

                </td>
            </tr>
        </table>

        <div class="button-large cancel">
            <div class="rightglare"></div>
            <div class="filler"></div>
            <ins><? echo $this->__f("Cancel"); ?></ins>
        </div>
        <div class="button-large save">
            <div class="rightglare"></div>
            <div class="filler"></div>
            <ins><? echo $this->__f("Save"); ?></ins>
        </div>

    </div>
</div>

<script>
    app.Menu.loadMenuTree();

</script>