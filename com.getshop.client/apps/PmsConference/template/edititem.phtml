<?php
/* @var $this \ns_02b94bcd_39b9_41aa_b40c_348a27ca5d9d\PmsConference */
$item = $this->getApi()->getPmsConferenceManager()->getItem($_POST['data']['itemid']);
?>
<i class='fa fa-close' style='float:right;cursor:pointer;' onclick='$(".edititembox").hide();'></i>
<br>
<div>
    <span gstype="form" method="renameitem" synchron="true"  gstoarea=".edititembox">
        <input type="hidden" gsname="itemid" value="<?php echo $item->id; ?>">
        <input type="text" class="gsniceinput1" value="<?php echo $item->name; ?>" gsname="name">
        <span class="shop_button" gstype="submit" syncron="true">Rename</span>
    </span>
</div>
<br>
<div>
    <span gstype="form" method="addSubItem" synchron="true" gstoarea=".edititembox">
        <input type="hidden" gsname="itemid" value="<?php echo $item->id; ?>">
        <input type="text" class="gsniceinput1" gsname="conferenceName" gstype="clicksubmit">
        <span class="shop_button" gstype="submit">Create subitem item</span>
    </span>
</div>

<div>
    <br>
    <div>Subitems:</div>
    <?php
    $subitems = (array)$this->getApi()->getPmsConferenceManager()->getAllItem($item->id);
    if(sizeof($subitems) == 0) {
        echo "No subitems added yet.";
    } else {
        foreach($subitems as $subitem) {
            echo "<div>" . $subitem->name . "</div>";
        }
    }
    ?>
</div>
<div>
    <span class="shop_button" style="background-color:red; float:right;" gs_confirm="Are you sure you want to delete this item, it can't be reverted?" itemid="<?php echo $item->id; ?>" gsclick="deleteItem" method="deleteItem">Delete item</span>
</div>
