<?
/* @var $this \ns_82f02286_a483_4b4c_8f0d_a2239487c055\ProductVariations */

$product = $this->getProduct();
$tree = $this->getApi()->getListManager()->getJsTree("variationslist_product_". $product->id);

$nodes = $tree->nodes;
foreach ($nodes as $node) {
    
    foreach ($node->children as $children) {
        echo '<div class="attrrow gs_variation_selector" productid="'.$product->id.'" optionid="'.$children->id.'">';
            echo '<span class="attrprefix">'.$children->text.'</span>';
            echo '<span class="attrvalue">';
                echo '<select class="gsniceselect1 gs_variation_select">';
                foreach ($children->children as $option) {
                    echo "<option value='$option->id'>$option->text</option>";
                }
                echo '</select>';
            echo '</span>';
        echo "</div>";
    }
}
?>